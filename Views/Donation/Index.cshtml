@model TempleWebsite.Models.Donation
@{
    ViewData["Title"] = "Donate";
}

<div class="page-header">
    <div class="container">
        <h1>Make a Donation</h1>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">Home</a></li>
                <li class="breadcrumb-item active">Donate</li>
            </ol>
        </nav>
    </div>
</div>

<section class="donation-intro py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="section-title">Support Our Sacred Mission</h2>
                <p class="lead">Your generous donations help us maintain the temple, conduct daily rituals, organize festivals, and serve the community. Every contribution, big or small, is blessed by Lord Venkateswara.</p>
            </div>
        </div>
    </div>
</section>

<section class="donation-options py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-4 mb-4">
                <div class="donation-purpose-card">
                    <i class="fas fa-temple donation-purpose-icon"></i>
                    <h4>Temple Maintenance</h4>
                    <p>Support daily temple operations, maintenance, and infrastructure development.</p>
                    <div class="suggested-amounts">
                        <span class="amount-tag" data-amount="101">₹101</span>
                        <span class="amount-tag" data-amount="501">₹501</span>
                        <span class="amount-tag" data-amount="1001">₹1001</span>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 mb-4">
                <div class="donation-purpose-card">
                    <i class="fas fa-utensils donation-purpose-icon"></i>
                    <h4>Annadanam</h4>
                    <p>Sponsor free meals for devotees and support our daily prasadam distribution.</p>
                    <div class="suggested-amounts">
                        <span class="amount-tag" data-amount="251">₹251</span>
                        <span class="amount-tag" data-amount="751">₹751</span>
                        <span class="amount-tag" data-amount="2001">₹2001</span>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 mb-4">
                <div class="donation-purpose-card">
                    <i class="fas fa-calendar-alt donation-purpose-icon"></i>
                    <h4>Festival Celebrations</h4>
                    <p>Support grand festival celebrations and special events throughout the year.</p>
                    <div class="suggested-amounts">
                        <span class="amount-tag" data-amount="151">₹151</span>
                        <span class="amount-tag" data-amount="1001">₹1001</span>
                        <span class="amount-tag" data-amount="5001">₹5001</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="donation-form-section py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="donation-form-container">
                    <div class="form-header text-center mb-4">
                        <i class="fas fa-heart form-icon"></i>
                        <h3>Donation Form</h3>
                        <p class="text-muted">Your contribution makes a difference</p>
                    </div>
                    
                    <form asp-action="Donate" method="post" class="donation-form">
                        <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label asp-for="DonorName" class="form-label">Full Name *</label>
                                <input asp-for="DonorName" class="form-control" placeholder="Enter your full name">
                                <span asp-validation-for="DonorName" class="text-danger"></span>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label asp-for="Email" class="form-label">Email Address *</label>
                                <input asp-for="Email" class="form-control" placeholder="Enter your email">
                                <span asp-validation-for="Email" class="text-danger"></span>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label asp-for="Phone" class="form-label">Phone Number *</label>
                                <input asp-for="Phone" class="form-control" placeholder="Enter your phone number">
                                <span asp-validation-for="Phone" class="text-danger"></span>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label asp-for="Amount" class="form-label">Donation Amount (₹) *</label>
                                <input asp-for="Amount" type="number" class="form-control" placeholder="Enter amount" min="1" id="donationAmount">
                                <span asp-validation-for="Amount" class="text-danger"></span>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label asp-for="Purpose" class="form-label">Donation Purpose</label>
                            <select asp-for="Purpose" class="form-select">
                                <option value="">Select purpose (optional)</option>
                                <option value="Temple Maintenance">Temple Maintenance</option>
                                <option value="Annadanam">Annadanam (Free Meals)</option>
                                <option value="Festival Celebrations">Festival Celebrations</option>
                                <option value="Daily Pooja">Daily Pooja & Rituals</option>
                                <option value="General Donation">General Donation</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <div class="form-check">
                                <input asp-for="IsAnonymous" class="form-check-input" type="checkbox">
                                <label asp-for="IsAnonymous" class="form-check-label">
                                    Make this an anonymous donation
                                </label>
                            </div>
                        </div>
                        
                        <div class="payment-methods mb-4">
                            <h5>Payment Methods</h5>
                            <div class="payment-options">
                                <div class="payment-option">
                                    <input type="radio" name="paymentMethod" id="creditCard" value="creditCard" checked>
                                    <label for="creditCard">
                                        <i class="fas fa-credit-card"></i>
                                        Credit/Debit Card
                                    </label>
                                </div>
                                <div class="payment-option">
                                    <input type="radio" name="paymentMethod" id="upi" value="upi">
                                    <label for="upi">
                                        <i class="fas fa-mobile-alt"></i>
                                        UPI Payment
                                    </label>
                                </div>
                                <div class="payment-option">
                                    <input type="radio" name="paymentMethod" id="netbanking" value="netbanking">
                                    <label for="netbanking">
                                        <i class="fas fa-university"></i>
                                        Net Banking
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="donation-summary mb-4">
                            <h5>Donation Summary</h5>
                            <div class="summary-content">
                                <div class="summary-item">
                                    <span>Donation Amount:</span>
                                    <span id="summaryAmount">₹0</span>
                                </div>
                                <div class="summary-item">
                                    <span>Purpose:</span>
                                    <span id="summaryPurpose">General Donation</span>
                                </div>
                                <div class="summary-item total">
                                    <span>Total Amount:</span>
                                    <span id="totalAmount">₹0</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="text-center">
                            <button type="submit" class="btn btn-temple btn-lg">
                                <i class="fas fa-heart me-2"></i>Donate Now
                            </button>
                        </div>
                        
                        <div class="donation-note mt-3">
                            <p class="text-muted text-center">
                                <i class="fas fa-shield-alt"></i>
                                Your donation is secure and will be processed through encrypted payment gateway.
                                You will receive a donation receipt via email.
                            </p>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="donation-impact py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-4">
                <h2 class="section-title">Your Impact</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="impact-card">
                    <div class="impact-number">₹51</div>
                    <div class="impact-description">Sponsors daily lamp oil for one day</div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="impact-card">
                    <div class="impact-number">₹251</div>
                    <div class="impact-description">Provides prasadam for 25 devotees</div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="impact-card">
                    <div class="impact-number">₹1001</div>
                    <div class="impact-description">Supports one day of temple operations</div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="impact-card">
                    <div class="impact-number">₹5001</div>
                    <div class="impact-description">Sponsors a complete festival celebration</div>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const amountInput = document.getElementById('donationAmount');
            const purposeSelect = document.querySelector('select[name="Purpose"]');
            const summaryAmount = document.getElementById('summaryAmount');
            const summaryPurpose = document.getElementById('summaryPurpose');
            const totalAmount = document.getElementById('totalAmount');
            const amountTags = document.querySelectorAll('.amount-tag');
            
            // Amount tag click handlers
            amountTags.forEach(tag => {
                tag.addEventListener('click', function() {
                    const amount = this.getAttribute('data-amount');
                    amountInput.value = amount;
                    updateSummary();
                    
                    // Remove active class from all tags and add to clicked one
                    amountTags.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Input change handlers
            amountInput.addEventListener('input', updateSummary);
            purposeSelect.addEventListener('change', updateSummary);
            
            function updateSummary() {
                const amount = amountInput.value || '0';
                const purpose = purposeSelect.value || 'General Donation';
                
                summaryAmount.textContent = '₹' + amount;
                summaryPurpose.textContent = purpose;
                totalAmount.textContent = '₹' + amount;
            }
        });
    </script>
}

<style>
.donation-purpose-card {
    background: white;
    padding: 2rem;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    height: 100%;
    transition: transform 0.3s ease;
}

.donation-purpose-card:hover {
    transform: translateY(-5px);
}

.donation-purpose-icon {
    font-size: 3rem;
    color: var(--temple-primary);
    margin-bottom: 1rem;
}

.suggested-amounts {
    margin-top: 1.5rem;
}

.amount-tag {
    display: inline-block;
    background: var(--temple-light);
    color: var(--temple-accent);
    padding: 8px 15px;
    margin: 0 5px;
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
}

.amount-tag:hover,
.amount-tag.active {
    background: var(--temple-primary);
    color: white;
    transform: translateY(-2px);
}

.payment-methods {
    background: var(--temple-light);
    padding: 1.5rem;
    border-radius: 10px;
}

.payment-options {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.payment-option {
    flex: 1;
    min-width: 150px;
}

.payment-option input[type="radio"] {
    display: none;
}

.payment-option label {
    display: block;
    background: white;
    padding: 1rem;
    border-radius: 8px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.payment-option input[type="radio"]:checked + label {
    background: var(--temple-primary);
    color: white;
    border-color: var(--temple-accent);
}

.payment-option label i {
    display: block;
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

.impact-card {
    background: white;
    padding: 2rem;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
}

.impact-card:hover {
    transform: translateY(-5px);
}

.impact-number {
    font-size: 2rem;
    font-weight: bold;
    color: var(--temple-primary);
    margin-bottom: 1rem;
}

.impact-description {
    color: var(--temple-accent);
    font-weight: 500;
}

.donation-note {
    background: rgba(255, 107, 53, 0.1);
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid var(--temple-primary);
}
</style>