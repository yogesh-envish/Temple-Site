@model TempleWebsite.Models.Donation
@{
    ViewData["Title"] = "Donate";
}

<div class="page-header">
    <div class="container">
        <h1>Make a Donation</h1>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">Home</a></li>
                <li class="breadcrumb-item active">Donate</li>
            </ol>
        </nav>
    </div>
</div>

<section class="donation-intro py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="section-title">Support Our Sacred Mission</h2>
                <p class="lead">Your generous donations help us maintain the temple, conduct daily rituals, organize festivals, and serve the community. Every contribution, big or small, is blessed by Lord Venkateswara.</p>
            </div>
        </div>
    </div>
</section>

<section class="qr-donation-section py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <div class="qr-container">
                    <div class="qr-header mb-4">
                        <i class="fas fa-qrcode qr-icon"></i>
                        <h3>Scan & Donate</h3>
                        <p class="text-muted">Use any UPI app to scan and donate</p>
                    </div>
                    
                    <div class="qr-code-wrapper">
                        <img src="~/images/QRCode.jpeg" alt="Donation QR Code" class="qr-code-image">
                    </div>
                    
                    <div class="qr-instructions mt-4">
                        <h5>How to Donate:</h5>
                        <div class="instruction-steps">
                            <div class="step">
                                <i class="fas fa-mobile-alt step-icon"></i>
                                <span>Open any UPI app</span>
                            </div>
                            <div class="step">
                                <i class="fas fa-camera step-icon"></i>
                                <span>Scan the QR code</span>
                            </div>
                            <div class="step">
                                <i class="fas fa-rupee-sign step-icon"></i>
                                <span>Enter amount & donate</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="donation-impact py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-4">
                <h2 class="section-title">Your Impact</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="impact-card">
                    <div class="impact-number">₹51</div>
                    <div class="impact-description">Sponsors daily lamp oil for one day</div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="impact-card">
                    <div class="impact-number">₹251</div>
                    <div class="impact-description">Provides prasadam for 25 devotees</div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="impact-card">
                    <div class="impact-number">₹1001</div>
                    <div class="impact-description">Supports one day of temple operations</div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="impact-card">
                    <div class="impact-number">₹5001</div>
                    <div class="impact-description">Sponsors a complete festival celebration</div>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const amountInput = document.getElementById('donationAmount');
            const purposeSelect = document.querySelector('select[name="Purpose"]');
            const summaryAmount = document.getElementById('summaryAmount');
            const summaryPurpose = document.getElementById('summaryPurpose');
            const totalAmount = document.getElementById('totalAmount');
            const amountTags = document.querySelectorAll('.amount-tag');
            
            // Amount tag click handlers
            amountTags.forEach(tag => {
                tag.addEventListener('click', function() {
                    const amount = this.getAttribute('data-amount');
                    amountInput.value = amount;
                    updateSummary();
                    
                    // Remove active class from all tags and add to clicked one
                    amountTags.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Input change handlers
            amountInput.addEventListener('input', updateSummary);
            purposeSelect.addEventListener('change', updateSummary);
            
            function updateSummary() {
                const amount = amountInput.value || '0';
                const purpose = purposeSelect.value || 'General Donation';
                
                summaryAmount.textContent = '₹' + amount;
                summaryPurpose.textContent = purpose;
                totalAmount.textContent = '₹' + amount;
            }
        });
    </script>
}

<style>
.donation-purpose-card {
    background: white;
    padding: 2rem;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    height: 100%;
    transition: transform 0.3s ease;
}

.donation-purpose-card:hover {
    transform: translateY(-5px);
}

.donation-purpose-icon {
    font-size: 3rem;
    color: var(--temple-primary);
    margin-bottom: 1rem;
}

.suggested-amounts {
    margin-top: 1.5rem;
}

.amount-tag {
    display: inline-block;
    background: var(--temple-light);
    color: var(--temple-accent);
    padding: 8px 15px;
    margin: 0 5px;
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
}

.amount-tag:hover,
.amount-tag.active {
    background: var(--temple-primary);
    color: white;
    transform: translateY(-2px);
}

.payment-methods {
    background: var(--temple-light);
    padding: 1.5rem;
    border-radius: 10px;
}

.payment-options {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.payment-option {
    flex: 1;
    min-width: 150px;
}

.payment-option input[type="radio"] {
    display: none;
}

.payment-option label {
    display: block;
    background: white;
    padding: 1rem;
    border-radius: 8px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.payment-option input[type="radio"]:checked + label {
    background: var(--temple-primary);
    color: white;
    border-color: var(--temple-accent);
}

.payment-option label i {
    display: block;
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

.impact-card {
    background: white;
    padding: 2rem;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
}

.impact-card:hover {
    transform: translateY(-5px);
}

.impact-number {
    font-size: 2rem;
    font-weight: bold;
    color: var(--temple-primary);
    margin-bottom: 1rem;
}

.impact-description {
    color: var(--temple-accent);
    font-weight: 500;
}

.qr-donation-section {
    background: linear-gradient(135deg, #fff8dc, #f0f8ff);
}

.qr-container {
    background: white;
    padding: 3rem;
    border-radius: 20px;
    box-shadow: 0 15px 35px rgba(0,0,0,0.1);
    border: 3px solid var(--temple-secondary);
}

.qr-icon {
    font-size: 3rem;
    color: var(--temple-primary);
    margin-bottom: 1rem;
}

.qr-code-wrapper {
    background: white;
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    display: inline-block;
    border: 2px solid var(--temple-light);
}

.qr-code-image {
    max-width: 300px;
    width: 100%;
    height: auto;
    border-radius: 10px;
}

.qr-instructions {
    background: var(--temple-light);
    padding: 2rem;
    border-radius: 15px;
    margin-top: 2rem;
}

.instruction-steps {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    gap: 2rem;
    margin-top: 1.5rem;
}

.step {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    flex: 1;
    min-width: 150px;
}

.step-icon {
    font-size: 2rem;
    color: var(--temple-primary);
    margin-bottom: 1rem;
    background: white;
    padding: 1rem;
    border-radius: 50%;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.step span {
    font-weight: 500;
    color: var(--temple-accent);
}
</style>